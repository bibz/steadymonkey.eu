<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Atreus build part 3: Wiring up the switches</title>
	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link rel="stylesheet" type="text/css" href="/assets/css/style.css?v=e0d19446eb" />

	<script>
			var siteUrl = 'https://steadymonkey.eu';
	</script>

	<script>
			var localTheme = localStorage.getItem('attila_theme');
			switch (localTheme) {
					case 'dark':
							document.documentElement.classList.add('theme-dark');
							break;
					case 'light':
							document.documentElement.classList.add('theme-light');
							break;
					default:
							break;
			}
	</script>

	<link rel="canonical" href="https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/amp/" />
    
    <meta property="og:site_name" content="Steady Monkey" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Atreus build part 3: Wiring up the switches" />
    <meta property="og:description" content="This post belongs to the Atreus build series, which was introduced by Onward with the Atreus keyboard. Last night I started soldering the rows and columns. The rows are connected by diodes (to avoid a bounce back effect from residual current on key up) while the columns are simply wired" />
    <meta property="og:url" content="https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/" />
    <meta property="article:published_time" content="2020-05-22T09:55:00.000Z" />
    <meta property="article:modified_time" content="2022-04-20T20:09:52.000Z" />
    <meta property="article:tag" content="Atreus" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Atreus build part 3: Wiring up the switches" />
    <meta name="twitter:description" content="This post belongs to the Atreus build series, which was introduced by Onward with the Atreus keyboard. Last night I started soldering the rows and columns. The rows are connected by diodes (to avoid a bounce back effect from residual current on key up) while the columns are simply wired" />
    <meta name="twitter:url" content="https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Borjan Tchakaloff" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Atreus" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Steady Monkey",
        "url": "https://steadymonkey.eu/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://steadymonkey.eu/favicon.ico"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Borjan Tchakaloff",
        "url": "https://steadymonkey.eu/author/borjan/",
        "sameAs": []
    },
    "headline": "Atreus build part 3: Wiring up the switches",
    "url": "https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/",
    "datePublished": "2020-05-22T09:55:00.000Z",
    "dateModified": "2022-04-20T20:09:52.000Z",
    "keywords": "Atreus",
    "description": "This post belongs to the Atreus build series, which was introduced by Onward\nwith the Atreus keyboard\n[https://steadymonkey.eu/onward-with-the-atreus-keyboard/].\n\nLast night I started soldering the rows and columns. The rows are connected by\ndiodes (to avoid a bounce back effect from residual current on key up) while the\ncolumns are simply wired together. This multiplexing allows us to only need as\nmany digital inputs as there are columns and rows (11 + 4, the middle thumb keys\nare in a column of ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://steadymonkey.eu/"
    }
}
    </script>
<style>:root {--ghost-accent-color: #b6a800;}</style>
    <meta name="generator" content="Ghost 4.19" />
    <link rel="alternate" type="application/rss+xml" title="Steady Monkey" href="https://steadymonkey.eu/rss.xml" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-solarizedlight.min.css" integrity="sha512-fibfhB71IpdEKqLKXP/96WuX1cTMmvZioYp7T6I+lTbvJrrjEGeyYdAf09GHpFptF8toQ32woGZ8bw9+HjZc0A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="post-template tag-atreus">

	<div class="nav-header">
		<nav class="nav-wrapper" aria-label="Main">
				<ul>
		<li class="nav-home"><a href="https://steadymonkey.eu/"><span>Home</span></a></li>
		<li class="nav-python"><a href="https://steadymonkey.eu/tag/python/"><span>Python</span></a></li>
		<li class="nav-homelab"><a href="https://steadymonkey.eu/tag/homelab/"><span>Homelab</span></a></li>
		<li class="nav-atreus"><a href="https://steadymonkey.eu/tag/atreus/"><span>Atreus</span></a></li>
		<li class="nav-random-bits"><a href="https://steadymonkey.eu/tag/thoughts/"><span>Random bits</span></a></li>
		<li class="nav-services"><a href="https://steadymonkey.eu/services/"><span>Services</span></a></li>
</ul>

				<ul class="nav-meta">
  <li class="nav-search" style="display: none;">
    <a title="Search">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span>Search</span>
    </a>
  </li>
  <!--
    <li class="nav-subscribe">
      <a href="#/portal">Subscribe</a>
    </li>
  -->
</ul>
		</nav>

		<div class="nav-wrapper-control">
			<div class="inner">
				<a class="nav-menu" role="button"><i class="icon icon-menu" aria-hidden="true"></i>Menu</a>
				<a class="nav-search" style="display: none;" title="Search" role="button"><i class="icon icon-search" aria-hidden="true"></i></a>
			</div>
		</div>
	</div>
	<div class="nav-close" role="button" aria-label="Close"></div>

	<section class="page-wrapper">

		

<div class="progress-container">
	<span class="progress-bar"></span>
</div>

<header class="post-header ">
	<div class="inner">
		<span class="post-info">
			<span class="post-type">Article</span>
			<span class="post-count">Atreus</span>
		</span>
		<h1 class="post-title">Atreus build part 3: Wiring up the switches</h1>
		<div class="post-meta">
			<div class="post-meta-avatars">
					<figure class="post-meta-avatar avatar">
					</figure>
			</div>
			<h4 class="post-meta-author"><a href="/author/borjan/">Borjan Tchakaloff</a></h4>
			<time datetime="22-05-2020">22 May 2020</time> &bull; 2 min read
		</div>
	</div>
</header>

<main class="content" role="main">
	<article class="post tag-atreus no-image">
		<div class="inner">

			<section class="post-content">
				<p><em>This post belongs to the </em>Atreus build series<em>, which was introduced by </em><a href="https://steadymonkey.eu/onward-with-the-atreus-keyboard/">Onward with the Atreus keyboard</a>.</p><p>Last night I started soldering the rows and columns. The rows are connected by diodes (to avoid a bounce back effect from residual current on key up) while the columns are simply wired together. This multiplexing allows us to only need as many digital inputs as there are columns and rows (11 + 4, the middle thumb keys are in a column of their own).</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-00.jpg" class="kg-image" alt loading="lazy" width="1200" height="900" srcset="https://steadymonkey.eu/content/images/size/w600/2022/04/atreus-wire-up-00.jpg 600w, https://steadymonkey.eu/content/images/size/w1000/2022/04/atreus-wire-up-00.jpg 1000w, https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-00.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Soldering the diodes to the left pin and connecting them in parallel(!), row by row.</figcaption></figure><p>I wanted to have an easy time (visually) tracing the columns so I mirrored the wire colours along the vertical middle axis. Satisfying to look at.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-03.jpg" class="kg-image" alt loading="lazy" width="1200" height="900" srcset="https://steadymonkey.eu/content/images/size/w600/2022/04/atreus-wire-up-03.jpg 600w, https://steadymonkey.eu/content/images/size/w1000/2022/04/atreus-wire-up-03.jpg 1000w, https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-03.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Each column connects four switches together, by their right pin. The inner most column only has two switches in it.</figcaption></figure><p>Once all the switches are wired and ready to be connected to the micr-controller, I <em>really </em>realised how a tight fit it would be. Best to wire the Pro Micro upfront to then solder the long loose wires to the rows and columns.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-05.jpg" class="kg-image" alt loading="lazy" width="1200" height="900" srcset="https://steadymonkey.eu/content/images/size/w600/2022/04/atreus-wire-up-05.jpg 600w, https://steadymonkey.eu/content/images/size/w1000/2022/04/atreus-wire-up-05.jpg 1000w, https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-05.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Each digital input/output is soldered to a piece of wire before hand.</figcaption></figure><p>To keep the standard mapping of columns to digital I/O expected by the firmware, I used the same colour coding for the loose wires. Then it's simply about soldering wires by colour.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-06.jpg" class="kg-image" alt loading="lazy" width="1200" height="900" srcset="https://steadymonkey.eu/content/images/size/w600/2022/04/atreus-wire-up-06.jpg 600w, https://steadymonkey.eu/content/images/size/w1000/2022/04/atreus-wire-up-06.jpg 1000w, https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-06.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Getting ready to solder all rows and columns to the micro-controller.</figcaption></figure><p>I finished soldering early morning and then went to bed, satisfied with my good work (or so I thought). I was surprised to realise only half of the keyboard was registering key presses this morning. I forgot to connect both ends of each row, duh.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-08.jpg" class="kg-image" alt loading="lazy" width="1200" height="900" srcset="https://steadymonkey.eu/content/images/size/w600/2022/04/atreus-wire-up-08.jpg 600w, https://steadymonkey.eu/content/images/size/w1000/2022/04/atreus-wire-up-08.jpg 1000w, https://steadymonkey.eu/content/images/2022/04/atreus-wire-up-08.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Final look after soldering the micro-controller. The micro-controller is only secured with the soldered wires, no additional hot glue. The USB-C breakout board will come next.</figcaption></figure><p>I now have a fully functional 42-key keyboard! But it's connected with a non-detachable (because inside the case) micro-B USB cable. Next up: soldering the USB-C breakout board to a loose male micro-B cable and fitting it in the case.</p>
			</section>

			<section class="post-footer">

				<div class="post-share">
					<span class="post-info-label">Share</span>
					<a title="Twitter" aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=Atreus build part 3: Wiring up the switches&url=https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
						<i class="icon icon-twitter" aria-hidden="true"></i>
					</a>
					<a title="Facebook" aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
						<i class="icon icon-facebook" aria-hidden="true"></i>
					</a>
					<a title="LinkedIn" aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches//&amp;title=Atreus build part 3: Wiring up the switches" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;">
						<i class="icon icon-linkedin" aria-hidden="true"></i>
					</a>
					<a title="Email" aria-label="Email" class="email" href="mailto:?subject=Atreus build part 3: Wiring up the switches&amp;body=https://steadymonkey.eu/atreus-build-part-3-wiring-up-the-switches/">
						<i class="icon icon-mail" aria-hidden="true"></i>
					</a>
				</div>

				<aside class="post-tags">
					<span class="post-info-label">Topic</span>
					<a href="/tag/atreus/">Atreus</a>
				</aside>

			</section>


			<section class="post-comments">
				<a id="show-disqus" class="post-comments-activate">Show Comments</a>
			   <div id="disqus_thread"></div>
			</section>


			<aside class="post-nav">

					<a class="post-nav-next" href="/atreus-build-part-4-the-usb-c-breakout-board/">
						<section class="post-nav-teaser">
							<i class="icon icon-arrow-left" aria-label="Next post"></i>
							<h2 class="post-nav-title">Atreus build part 4: Wiring the USB-C breakout board</h2>
							<p class="post-nav-excerpt">This post belongs to the Atreus build series, which was introduced by&hellip;</p>
							<p class="post-nav-meta"><time datetime="22-05-2020">22 May 2020</time></p>
						</section>
					</a>

					<a class="post-nav-prev" href="/atreus-build-part-2-glueing-the-switches/">
						<section class="post-nav-teaser">
							<i class="icon icon-arrow-right" aria-label="Previous post"></i>
							<h2 class="post-nav-title">Atreus build part 2: Glueing the switches</h2>
							<p class="post-nav-excerpt">This post belongs to the Atreus build series, which was introduced by&hellip;</p>
							<p class="post-nav-meta"><time datetime="20-05-2020">20 May 2020</time></p>
						</section>
					</a>
				<div class="clear"></div>
			</aside>

		</div>
	</article>
</main>





		<div class="search-wrapper">
			<div class="search">
		    <form class="search-form">
          <input class="search-field" type="text" placeholder="Search â€¦">
          <button class="search-button" type="submit">
						<i class="icon icon-search" aria-hidden="true"></i>
					</button>
		    </form>
				<div class="popular-wrapper">
					<h4 class="popular-title">Topics</h4>
					<span class="popular-tags post-tags">
								<a href='/tag/atreus/'>Atreus: 6</a>
								<a href='/tag/homelab/'>Homelab: 4</a>
								<a href='/tag/thoughts/'>Thoughts: 2</a>
								<a href='/tag/python/'>Python: 1</a>
								<a href='/tag/mainboard/'>Mainboard: 1</a>
					</span>
				</div>
				<div class="search-result"></div>
			</div>
			<button class="search-wrapper-close" aria-label="Close"></button>
		</div>

		<div class="nav-footer">
			<nav class="nav-wrapper" aria-label="Footer">
				<span class="nav-copy">Steady Monkey &copy; 2022  <a class="nav-rss" title="RSS" href="https://steadymonkey.eu/rss.xml" target="_blank"><i class="icon icon-rss" aria-hidden="true"></i></a></span>
				<span class="nav-credits">Published with <a href="https://ghost.org">Ghost</a> &bull; Theme <a href="https://github.com/zutrinken/attila">Attila</a> &bull; <a class="menu-item js-theme" href="#" data-system="System theme" data-dark="Dark theme" data-light="Light theme"><span class="theme-icon"></span><span class="theme-text">System theme</span> </a> </span>
			</nav>
		</div>

	</section>

	<script type="text/javascript" src="/assets/js/script.js?v=e0d19446eb"></script>

	<script>
  $(document).ready(function () {
		var viewport = $(window);
		var post = $('.post-content');
		// Responsive videos with fitVids
    post.fitVids();
		// Format code blocks and add line numbers
		function codestyling() {
	    $('pre code').each(function(i, e) {
				// Code highlight
	      hljs.highlightBlock(e);
	      // No lines for plain text blocks
	      if (!$(this).hasClass('language-text')) {
	        var code = $(this);
					// Calculate amount of lines
	        var lines = code.html().split(/\n(?!$)/g).length;
	        var numbers = [];
	        if (lines > 1) {
	          lines++;
	        }
	        for (i = 1; i < lines; i++) {
	          numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
	        }
	        code.parent().append('<div class="lines">' + numbers + '</div>');
	      }
	    });
	  }
	  codestyling();
		// Reading progress bar on window top
	  function readingProgress() {
			var postBottom = post.offset().top + post.height();
			var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
	  }
	  readingProgress();
		// Trigger reading progress
	  viewport.on({
	    'scroll': function() {
	      readingProgress();
	    },
	    'resize': function() {
	      readingProgress();
	    },
	    'orientationchange': function() {
	      readingProgress();
	    }
	  });
		// Check if disqus is defined by code injection
		if (typeof disqus === 'undefined') {
			// hide comment section
	    $('.post-comments').css({
	      'display': 'none'
	    });
	  } else {
	    $('#show-disqus').on('click', function() {
	      $.ajax({
	        type: "GET",
	        url: "//" + disqus + ".disqus.com/embed.js",
	        dataType: "script",
	        cache: true
	      });
	      $(this).parent().addClass('activated');
	    });
	  }
  });
</script>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js" integrity="sha512-yIpe1UXrH/ZWwu3n7MdHNfMbPXftP0jlg9+lRhzlpbolElt33h3PGx9ICzqf/k+yca3QNzqcO3sdtKJuYRTi4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>

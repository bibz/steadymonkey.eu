<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>The cautionary nightmare</title>
	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link rel="stylesheet" type="text/css" href="/assets/css/style.css?v=eae40fdc4f" />

	<script>
			var siteUrl = 'https://steadymonkey.eu';
	</script>

	<script>
			var localTheme = localStorage.getItem('attila_theme');
			switch (localTheme) {
					case 'dark':
							document.documentElement.classList.add('theme-dark');
							break;
					case 'light':
							document.documentElement.classList.add('theme-light');
							break;
					default:
							break;
			}
	</script>

	<link rel="canonical" href="https://steadymonkey.eu/the-cautionary-nightnare/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://steadymonkey.eu/the-cautionary-nightnare/amp/" />
    
    <meta property="og:site_name" content="Steady Monkey" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="The cautionary nightmare" />
    <meta property="og:description" content="I had a dream. Rather, I had a nightmare last night. It went as dreams go, mixing reality and fantasy. When I awoke, completely stressed out for the day before morning light could stream through my window, I decided I would not let the dream happen. Here is the gist." />
    <meta property="og:url" content="https://steadymonkey.eu/the-cautionary-nightnare/" />
    <meta property="article:published_time" content="2021-12-08T09:38:15.000Z" />
    <meta property="article:modified_time" content="2021-12-08T09:38:15.000Z" />
    <meta property="article:tag" content="Homelab" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="The cautionary nightmare" />
    <meta name="twitter:description" content="I had a dream. Rather, I had a nightmare last night. It went as dreams go, mixing reality and fantasy. When I awoke, completely stressed out for the day before morning light could stream through my window, I decided I would not let the dream happen. Here is the gist." />
    <meta name="twitter:url" content="https://steadymonkey.eu/the-cautionary-nightnare/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Borjan Tchakaloff" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Homelab" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Steady Monkey",
        "url": "https://steadymonkey.eu/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://steadymonkey.eu/favicon.ico"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Borjan Tchakaloff",
        "url": "https://steadymonkey.eu/author/borjan/",
        "sameAs": []
    },
    "headline": "The cautionary nightmare",
    "url": "https://steadymonkey.eu/the-cautionary-nightnare/",
    "datePublished": "2021-12-08T09:38:15.000Z",
    "dateModified": "2021-12-08T09:38:15.000Z",
    "keywords": "Homelab",
    "description": "I had a dream. Rather, I had a nightmare last night. It went as dreams go,\nmixing reality and fantasy. When I awoke, completely stressed out for the day\nbefore morning light could stream through my window, I decided I would not let\nthe dream happen. Here is the gist.\n\nIn that dream, my brand new laptop that I left in the car was stolen. Actually\nthe car itself was stolen, but found later with only the laptop missing. The\nlaptop sleeve was still in the car, though. Clearly that was the first sign",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://steadymonkey.eu/"
    }
}
    </script>
<style>:root {--ghost-accent-color: #b6a800;}</style>
    <meta name="generator" content="Ghost 4.19" />
    <link rel="alternate" type="application/rss+xml" title="Steady Monkey" href="https://steadymonkey.eu/rss.xml" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-solarizedlight.min.css" integrity="sha512-fibfhB71IpdEKqLKXP/96WuX1cTMmvZioYp7T6I+lTbvJrrjEGeyYdAf09GHpFptF8toQ32woGZ8bw9+HjZc0A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="post-template tag-homelab">

	<div class="nav-header">
		<nav class="nav-wrapper" aria-label="Main">
				<ul>
		<li class="nav-home"><a href="https://steadymonkey.eu/"><span>Home</span></a></li>
		<li class="nav-homelab"><a href="https://steadymonkey.eu/tag/homelab/"><span>Homelab</span></a></li>
		<li class="nav-python"><a href="https://steadymonkey.eu/tag/python/"><span>Python</span></a></li>
		<li class="nav-random-bits"><a href="https://steadymonkey.eu/tag/thoughts/"><span>Random bits</span></a></li>
		<li class="nav-services"><a href="https://steadymonkey.eu/services/"><span>Services</span></a></li>
</ul>

				<ul class="nav-meta">
  <li class="nav-search" style="display: none;">
    <a title="Search">
      <i class="icon icon-search" aria-hidden="true"></i>
      <span>Search</span>
    </a>
  </li>
  <!--
    <li class="nav-subscribe">
      <a href="#/portal">Subscribe</a>
    </li>
  -->
</ul>
		</nav>

		<div class="nav-wrapper-control">
			<div class="inner">
				<a class="nav-menu" role="button"><i class="icon icon-menu" aria-hidden="true"></i>Menu</a>
				<a class="nav-search" style="display: none;" title="Search" role="button"><i class="icon icon-search" aria-hidden="true"></i></a>
			</div>
		</div>
	</div>
	<div class="nav-close" role="button" aria-label="Close"></div>

	<section class="page-wrapper">

		

<div class="progress-container">
	<span class="progress-bar"></span>
</div>

<header class="post-header ">
	<div class="inner">
		<span class="post-info">
			<span class="post-type">Article</span>
			<span class="post-count">Homelab</span>
		</span>
		<h1 class="post-title">The cautionary nightmare</h1>
		<div class="post-meta">
			<div class="post-meta-avatars">
					<figure class="post-meta-avatar avatar">
					</figure>
			</div>
			<h4 class="post-meta-author"><a href="/author/borjan/">Borjan Tchakaloff</a></h4>
			<time datetime="08-12-2021">08 Dec 2021</time> &bull; 2 min read
		</div>
	</div>
</header>

<main class="content" role="main">
	<article class="post tag-homelab no-image">
		<div class="inner">

			<section class="post-content">
				<p>I had a dream. Rather, I had a nightmare last night. It went as dreams go, mixing reality and fantasy. When I awoke, completely stressed out for the day before morning light could stream through my window, I decided I would not let the dream happen. Here is the gist.</p><p>In that dream, my brand new laptop that I left in the car was stolen. Actually the car itself was stolen, but found later with only the laptop missing. The laptop sleeve was still in the car, though. Clearly that was the first sign this was ridiculous: who would take the time to take the laptop of its protection sleeve before stealing it? Anyway, my laptop is a few years old and I don't even own a car. Details.</p><p>I got home, frustrated that I lost this new piece of equipment. In the end, it's only material and that's a problem money can fix. We will live on. Only to discover that my tower computer was gone too! Arg, thieves broke in the flat and extracted that one piece of hardware. Bad luck, for real. Those sweet SSD and NVMe drives are gone. But, in the end, they were encyrpted and so it's only a matter of replacing the hardware.</p><p>Now, I was not alarmed beyond measure because I have a (almost) solid back-up plan. That laptop and that tower computer were primary sources of data, their full states backed up to the NAS. So all my data is fine, I thought, proud of myself. I only went to my "office" to discover the NAS was also missing. No way! What kind of bad day can this be? Besides the fact it was yet again more money that evaporated, it can be "easily" replaced with an equivalent off the shelf, this time <em>my whole data was out there</em>.</p><p>I still had my last line of defense in the name of offsite back-ups: the most important data was recoverable, I only lost what I deemed expendable. No, the actual problem was that the NAS is holding raw data. Whatever lands there unencrypted stays there unencrypted. And I feel <em>very</em> uncomfortable with the idea of my whole life being completely exposed. Not that I deal in top secret projects, nor hoard sensitive information. It's just my private life. I am not wiring public CCTV in my homer for the same reason, it's my own life and my own affair.</p><p>All of this prose to come to the following points. First, I am confident in my back-up strategy whether my flat burns down or all my hardware gets stolen. What data really matters is also stored elsewhere, I can recover. Second, I am <em>not</em> satisfied with how my data is stored at rest on the NAS. Both primary and ternary data sources are encrypted (computers are using either full disk encryption or logical partition encryption; offsite back-ups are encrypted before leaving my NAS) while the data hoarding source that is my NAS is <em>removing</em> the encryption layer from the primary sources that get synchronised. The data is kept in sync at a file-level, not block-level, so the file-system/partition encryption of the source simply does not apply to the replicate.</p><p>I will have to sacrifice performance for privacy since the NAS does not offer much hardware acceleration in the cryptography area. But again, the trade-off seems acceptable because I am not hoarding files for the sake of archiving. My daily computer back-ups will end up on an encrypted ZFS dataset. That way I can still benefit from the features offered by ZFS (which is why I am pushing files and not blocks in the first place) while resting easy about my private data. The largest files on the NAS (media files) are not backed up because I don't deem them very important, so I also won't go through the hassle of encrypting them.</p>
			</section>

			<section class="post-footer">

				<div class="post-share">
					<span class="post-info-label">Share</span>
					<a title="Twitter" aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=The cautionary nightmare&url=https://steadymonkey.eu/the-cautionary-nightnare/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
						<i class="icon icon-twitter" aria-hidden="true"></i>
					</a>
					<a title="Facebook" aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://steadymonkey.eu/the-cautionary-nightnare/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
						<i class="icon icon-facebook" aria-hidden="true"></i>
					</a>
					<a title="LinkedIn" aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://steadymonkey.eu/the-cautionary-nightnare//&amp;title=The cautionary nightmare" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;">
						<i class="icon icon-linkedin" aria-hidden="true"></i>
					</a>
					<a title="Email" aria-label="Email" class="email" href="mailto:?subject=The cautionary nightmare&amp;body=https://steadymonkey.eu/the-cautionary-nightnare/">
						<i class="icon icon-mail" aria-hidden="true"></i>
					</a>
				</div>

				<aside class="post-tags">
					<span class="post-info-label">Topic</span>
					<a href="/tag/homelab/">Homelab</a>
				</aside>

			</section>


			<section class="post-comments">
				<a id="show-disqus" class="post-comments-activate">Show Comments</a>
			   <div id="disqus_thread"></div>
			</section>


			<aside class="post-nav">


					<a class="post-nav-prev" href="/more-adventures-with-the-nas/">
						<section class="post-nav-teaser">
							<i class="icon icon-arrow-right" aria-label="Previous post"></i>
							<h2 class="post-nav-title">More adventures with the NAS</h2>
							<p class="post-nav-excerpt">About ten days ago, I received a scary e-mail from the NAS (it has a name by the way, it's called cactus): my boot pool was degraded but still operational. The SSD I added not so long ago to mirror the USB drive actually started to fail.&hellip;</p>
							<p class="post-nav-meta"><time datetime="17-11-2021">17 Nov 2021</time></p>
						</section>
					</a>
				<div class="clear"></div>
			</aside>

		</div>
	</article>
</main>





		<div class="search-wrapper">
			<div class="search">
		    <form class="search-form">
          <input class="search-field" type="text" placeholder="Search …">
          <button class="search-button" type="submit">
						<i class="icon icon-search" aria-hidden="true"></i>
					</button>
		    </form>
				<div class="popular-wrapper">
					<h4 class="popular-title">Topics</h4>
					<span class="popular-tags post-tags">
								<a href='/tag/homelab/'>Homelab: 4</a>
								<a href='/tag/python/'>Python: 1</a>
								<a href='/tag/thoughts/'>Thoughts: 1</a>
					</span>
				</div>
				<div class="search-result"></div>
			</div>
			<button class="search-wrapper-close" aria-label="Close"></button>
		</div>

		<div class="nav-footer">
			<nav class="nav-wrapper" aria-label="Footer">
				<span class="nav-copy">Steady Monkey &copy; 2021  <a class="nav-rss" title="RSS" href="https://steadymonkey.eu/rss.xml" target="_blank"><i class="icon icon-rss" aria-hidden="true"></i></a></span>
				<span class="nav-credits">Published with <a href="https://ghost.org">Ghost</a> &bull; Theme <a href="https://github.com/zutrinken/attila">Attila</a> &bull; <a class="menu-item js-theme" href="#" data-system="System theme" data-dark="Dark theme" data-light="Light theme"><span class="theme-icon"></span><span class="theme-text">System theme</span> </a> </span>
			</nav>
		</div>

	</section>

	<script type="text/javascript" src="/assets/js/script.js?v=eae40fdc4f"></script>

	<script>
  $(document).ready(function () {
		var viewport = $(window);
		var post = $('.post-content');
		// Responsive videos with fitVids
    post.fitVids();
		// Format code blocks and add line numbers
		function codestyling() {
	    $('pre code').each(function(i, e) {
				// Code highlight
	      hljs.highlightBlock(e);
	      // No lines for plain text blocks
	      if (!$(this).hasClass('language-text')) {
	        var code = $(this);
					// Calculate amount of lines
	        var lines = code.html().split(/\n(?!$)/g).length;
	        var numbers = [];
	        if (lines > 1) {
	          lines++;
	        }
	        for (i = 1; i < lines; i++) {
	          numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
	        }
	        code.parent().append('<div class="lines">' + numbers + '</div>');
	      }
	    });
	  }
	  codestyling();
		// Reading progress bar on window top
	  function readingProgress() {
			var postBottom = post.offset().top + post.height();
			var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
	  }
	  readingProgress();
		// Trigger reading progress
	  viewport.on({
	    'scroll': function() {
	      readingProgress();
	    },
	    'resize': function() {
	      readingProgress();
	    },
	    'orientationchange': function() {
	      readingProgress();
	    }
	  });
		// Check if disqus is defined by code injection
		if (typeof disqus === 'undefined') {
			// hide comment section
	    $('.post-comments').css({
	      'display': 'none'
	    });
	  } else {
	    $('#show-disqus').on('click', function() {
	      $.ajax({
	        type: "GET",
	        url: "//" + disqus + ".disqus.com/embed.js",
	        dataType: "script",
	        cache: true
	      });
	      $(this).parent().addClass('activated');
	    });
	  }
  });
</script>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js" integrity="sha512-yIpe1UXrH/ZWwu3n7MdHNfMbPXftP0jlg9+lRhzlpbolElt33h3PGx9ICzqf/k+yca3QNzqcO3sdtKJuYRTi4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
